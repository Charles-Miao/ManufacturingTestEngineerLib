```mermaid
graph TD
    A[Start] --> B[显示电池检查标题]
    B --> C[调用BOM.bat]
    C --> D[1秒等待]
    D --> E[清理旧日志文件]
    E --> F[获取电池信息到BATT.log]
    F --> G{容量检查}
    
    G --> |成功| H[比较设计容量与实际容量]
    G --> |失败| I[记录容量错误]
    I --> J[显示错误详情]
    J --> K[暂停]
    K --> A
    
    H --> |匹配| L[设置CHKBATT=PASS]
    H --> |不匹配| M[记录容量不匹配错误]
    M --> N[显示错误]
    N --> O[暂停]
    O --> A